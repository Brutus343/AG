automacro stuck {
console /Stuck during route/
call {
do c @refresh
}
timeout 5
}
automacro Respawn {
    party /respawn/
    call {
        do respawn
    }
}
automacro Res {
    party /res/
    call {
        do respawn
		pause 0.5
		do @go payon
    }
}

automacro TriggerSP {
    sp < 5%
    timeout 10 
    call HealMySP
	disabled 1
}
automacro TriggerHP {
    hp < 15%
    timeout 10 
    call HealMyHP
	disabled 1
}
macro HealMySP {
    do c @go 11
    :startLoop
	do c HEAL ME
    do talknpc 156 122
    pause 1
    $currentPercent = @eval(int($.sp / $::char->{sp_max} * 100))
    if ($currentPercent < 90) goto startLoop
	do c @go 11
}
macro HealMyHP {
    do c @go 11
    :startLoop
	do c HEAL ME
    do talknpc 156 122
    pause 1
    $currentPercent = @eval(int($.hp / $::char->{hp_max} * 100))
    if ($currentPercent < 90) goto startLoop
	do c @go 11
}

automacro goCampToMaster {
    console /Calculating route to find master: mid/
    location not mid_camp
    call {
        do c @go 26
				do conf follow 1
    }
}
automacro cantFindProntKafra {
    console /Could not find an NPC at location/
    call {
        do c @refresh
    }
}
automacro goAlbertaToMaster {
    console /Calculating route to find master: alberta/
    location not alberta
    call {
        do c @go alberta
				do conf follow 1
    }
}
automacro InGefenia {
    console /Cannot calculate a route from gef/
    call {
        do c @go geffen
    }
}

automacro goGeffenToMaster {
    console /Calculating route to find master: geffen/
    location not geffen
    call {
        do c @go geffen
				do conf follow 1
    }
}

automacro goCampToMaster {
    console /Calculating route to find master: mid/
    location not mid_camp
    call {
        do c @go 26
				do conf follow 1
    }
}

automacro goAyothayaToMaster {
    console /Calculating route to find master: ayothaya/
    location not ayothaya
    call {
        do c @go ayothaya
				do conf follow 1
    }
}

automacro goXmasToMaster {
    console /Calculating route to find master: xmas/
    location not xmas
    call {
        do c @go xmas
				do conf follow 1
    }
}

automacro goHugelToMaster {
    console /Calculating route to find master: hugel/
    location not hugel
    call {
        do c @go hugel
				do conf follow 1
    }
}


automacro goPayonToMaster {
    console /Calculating route to find master: payon/
    location not payon
    call {
        do c @go payon
				do conf follow 1
    }
}

automacro goMoroccToMaster {
    console /Calculating route to find master: morocc/
    location not morocc
    call {
        do c @go morocc
				do conf follow 1
    }
}

automacro goYunoToMaster {
    console /Calculating route to find master: yuno/
    location not yuno
    call {
        do c @go yuno
				do conf follow 1
    }
}

automacro goComodoToMaster {
    console /Calculating route to find master: comodo/
    location not comodo
    call {
        do c @go comodo
				do conf follow 1
    }
}

automacro goVeinsToMaster {
    console /Calculating route to find master: veins/
    location not veins
    call {
        do c @go veins
				do conf follow 1
    }
}

automacro goPronteraToMaster {
    console /Calculating route to find master: prontera/
    location not prontera
    call {
        do c @go prontera
				do conf follow 1
    }
}

automacro goRachelToMaster {
    console /Calculating route to find master: rachel/
    location not rachel
    call {
        do c @go rachel
				do conf follow 1
    }
}

automacro goAldeToMaster {
    console /Calculating route to find master: aldebaran/
    location not aldebaran
    call {
        do c @go aldebaran
		do conf follow 1
    }
}


automacro goSplendide {
    console /Calculating lockMap route to: Splendide Field/
    location not mid_camp
    call {
        do c @go 26
    }
}


